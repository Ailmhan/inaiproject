# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Capacitor –¥–ª—è InAI Chat

## ‚úÖ –ß—Ç–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ:

1. **Capacitor —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω** –≤ `package.json`:
   - `@capacitor/cli@8.0.0`
   - `@capacitor/core@8.0.0`
   - `@capacitor/ios@8.0.0`

2. **–ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —Å–æ–∑–¥–∞–Ω–∞** –≤ `capacitor.config.ts`:
   - App ID: `com.inaiproject.chat`
   - App Name: `InAI Chat`
   - Server URL: `https://inaiproject.vercel.app`
   - Web Dir: `.next`

3. **Codemagic –Ω–∞—Å—Ç—Ä–æ–µ–Ω** –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏:
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞ Capacitor
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
   - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å iOS

## üì± –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç:

### –í Codemagic (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):

1. **–°–±–æ—Ä–∫–∞ Next.js** ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è `.next` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
2. **–ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è Capacitor** ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)
3. **–î–æ–±–∞–≤–ª–µ–Ω–∏–µ iOS –ø–ª–∞—Ç—Ñ–æ—Ä–º—ã** ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è `ios/` –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
4. **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è** ‚Üí –∫–æ–ø–∏—Ä—É—é—Ç—Å—è —Ñ–∞–π–ª—ã –∏–∑ `.next` –≤ iOS –ø—Ä–æ–µ–∫—Ç
5. **–°–±–æ—Ä–∫–∞ iOS** ‚Üí —Å–æ–∑–¥–∞–µ—Ç—Å—è `.ipa` —Ñ–∞–π–ª
6. **–ü—É–±–ª–∏–∫–∞—Ü–∏—è** ‚Üí –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –≤ App Store Connect

### –õ–æ–∫–∞–ª—å–Ω–æ (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è):

```bash
# 1. –°–æ–±–µ—Ä–∏—Ç–µ Next.js –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
pnpm build

# 2. –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π—Ç–µ Capacitor (–µ—Å–ª–∏ –µ—â–µ –Ω–µ —Å–¥–µ–ª–∞–Ω–æ)
pnpm cap:init

# 3. –î–æ–±–∞–≤—å—Ç–µ iOS –ø–ª–∞—Ç—Ñ–æ—Ä–º—É (–µ—Å–ª–∏ –µ—â–µ –Ω–µ –¥–æ–±–∞–≤–ª–µ–Ω–∞)
pnpm cap:add:ios

# 4. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–π—Ç–µ
pnpm cap:sync

# 5. –û—Ç–∫—Ä–æ–π—Ç–µ –≤ Xcode (—Ç—Ä–µ–±—É–µ—Ç—Å—è Mac)
pnpm cap:open:ios
```

## ‚öôÔ∏è –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è Capacitor:

```typescript
// capacitor.config.ts
{
  appId: 'com.inaiproject.chat',
  appName: 'InAI Chat',
  webDir: '.next',
  server: {
    url: 'https://inaiproject.vercel.app', // Production URL
    cleartext: false,
  }
}
```

**–í–∞–∂–Ω–æ:** Capacitor –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–∞ –∑–∞–≥—Ä—É–∑–∫—É –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å —Å–µ—Ä–≤–µ—Ä–∞ (`server.url`), –∞ –Ω–µ –Ω–∞ —É–ø–∞–∫–æ–≤–∫—É —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç:
- ‚úÖ –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤—Å–µ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∞–∫—Ç—É–∞–ª—å–Ω—É—é –≤–µ—Ä—Å–∏—é —Å —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ –ù–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Å–æ–±–∏—Ä–∞—Ç—å iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø—Ä–∏ –∫–∞–∂–¥–æ–º –æ–±–Ω–æ–≤–ª–µ–Ω–∏–∏ –≤–µ–±-—á–∞—Å—Ç–∏
- ‚úÖ –ú–µ–Ω—å—à–∏–π —Ä–∞–∑–º–µ—Ä –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è

## üîÑ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è:

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –≤–µ–±-—á–∞—Å—Ç–∏ (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏):
1. –ó–∞–¥–µ–ø–ª–æ–π—Ç–µ –Ω–æ–≤—É—é –≤–µ—Ä—Å–∏—é –Ω–∞ Vercel
2. –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–±–Ω–æ–≤–∏—Ç—Å—è –¥–ª—è –≤—Å–µ—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

### –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ iOS –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (—Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –Ω–∞—Ç–∏–≤–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π):
1. –í–Ω–µ—Å–∏—Ç–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –≤ `capacitor.config.ts` –∏–ª–∏ –Ω–∞—Ç–∏–≤–Ω—ã–µ –ø–ª–∞–≥–∏–Ω—ã
2. –ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–±–æ—Ä–∫—É –≤ Codemagic
3. –ù–æ–≤–∞—è –≤–µ—Ä—Å–∏—è –±—É–¥–µ—Ç –∑–∞–≥—Ä—É–∂–µ–Ω–∞ –≤ App Store Connect

## üìù –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Codemagic:

### –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

–í Codemagic –¥–æ–±–∞–≤—å—Ç–µ:
- `APP_ID`: `com.inaiproject.chat`
- `PWA_URL`: `https://inaiproject.vercel.app`

### App Store Connect:

1. –°–æ–∑–¥–∞–π—Ç–µ App Store Connect API –∫–ª—é—á
2. –î–æ–±–∞–≤—å—Ç–µ –≤ Codemagic –≤ –≥—Ä—É–ø–ø—É `app_store_credentials`
3. –û–±–Ω–æ–≤–∏—Ç–µ `export_options.plist` —Å –≤–∞—à–∏–º Team ID

## üéØ Bundle ID:

**–í–∞–∂–Ω–æ:** Bundle ID `com.inaiproject.chat` –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å:
1. –°–æ–∑–¥–∞–Ω –≤ [Apple Developer Portal](https://developer.apple.com/account)
2. –ù–∞—Å—Ç—Ä–æ–µ–Ω –≤ App Store Connect
3. –£–∫–∞–∑–∞–Ω –≤ `export_options.plist` (Team ID)

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏:

1. ‚úÖ Capacitor —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
2. ‚úÖ Codemagic –Ω–∞—Å—Ç—Ä–æ–µ–Ω –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π —Å–±–æ—Ä–∫–∏
3. ‚è≥ –°–æ–∑–¥–∞–π—Ç–µ Bundle ID –≤ Apple Developer Portal
4. ‚è≥ –ù–∞—Å—Ç—Ä–æ–π—Ç–µ App Store Connect API –∫–ª—é—á –≤ Codemagic
5. ‚è≥ –ó–∞–ø—É—Å—Ç–∏—Ç–µ –ø–µ—Ä–≤—É—é —Å–±–æ—Ä–∫—É –≤ Codemagic

## üìö –ü–æ–ª–µ–∑–Ω—ã–µ —Å—Å—ã–ª–∫–∏:

- [Capacitor Documentation](https://capacitorjs.com/docs)
- [Codemagic iOS Guide](https://docs.codemagic.io/yaml-quick-start/building-a-native-ios-app/)
- [Apple Developer Portal](https://developer.apple.com/account)
